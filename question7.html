<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8" /> <title>Employee Performance – Dept Distribution (Matplotlib via Pyodide)</title> <meta name="viewport" content="width=device-width, initial-scale=1" /> <!-- Verification email (as requested): 24f3004403@ds.study.iitm.ac.in --> <style> :root { --bg:#0b0f14; --card:#121821; --ink:#e6eef8; --muted:#9fb0c7; --accent:#8bb7ff; } html,body { height:100%; } body { margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji"; background: radial-gradient(1200px 800px at 20% 0%, #152235 0%, var(--bg) 60%); color:var(--ink); display:flex; align-items:center; justify-content:center; padding:24px; } .wrap { width:min(1000px, 96vw); background:linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02)); border:1px solid rgba(255,255,255,0.06); border-radius:20px; box-shadow: 0 10px 40px rgba(0,0,0,0.35); overflow:hidden; } header { padding:20px 22px; border-bottom:1px solid rgba(255,255,255,0.08); background:linear-gradient(180deg, rgba(139,183,255,0.12), rgba(139,183,255,0.02) 60%, transparent); } h1 { font-size: clamp(18px, 2.4vw, 26px); margin:0 0 6px 0; letter-spacing:0.2px; } .sub { color:var(--muted); font-size:14px } main { display:grid; gap:18px; grid-template-columns: 1.3fr 1fr; padding:18px; } .card { background:var(--card); border:1px solid rgba(255,255,255,0.06); border-radius:16px; padding:16px; } .card h2 { margin:0 0 10px 0; font-size:16px; color:#cfe1ff; letter-spacing:0.2px; } #plot { width:100%; display:block; border-radius:12px; background:#0a0f16; border:1px solid rgba(255,255,255,0.05); min-height:300px; place-content:center; text-align:center; padding:10px; } #freq { font: 14px/1.45 ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; color:#d7ffcc; background:#0e1710; border:1px solid rgba(255,255,255,0.08); border-radius:10px; padding:12px; white-space:pre-wrap; } .badge { display:inline-block; padding:4px 8px; border-radius:999px; border:1px solid rgba(255,255,255,0.14); background:rgba(139,183,255,0.08); color:#dfeaff; font-size:12px; margin-left:6px; } footer { padding:14px 18px; border-top:1px solid rgba(255,255,255,0.08); color:var(--muted); font-size:12px } .note { color:#b7c7de; font-size:12px; } button { appearance:none; border:none; padding:10px 14px; border-radius:10px; cursor:pointer; background:#1c2a42; color:#e9f2ff; font-weight:600; border:1px solid rgba(255,255,255,0.08); } button:hover { filter:brightness(1.1) } .row { display:flex; gap:10px; align-items:center; flex-wrap:wrap } </style> </head> <body> <div class="wrap"> <header> <h1>Employee Department Distribution <span class="badge">Matplotlib • Pyodide</span></h1> <div class="sub">Business case: Analyse departmental distribution, compute <code>R&amp;D</code> frequency, and render a histogram-style distribution.</div> </header><main>
  <section class="card">
    <h2>Visualisation</h2>
    <div id="plot">Preparing Python environment &amp; rendering chart…</div>
    <div class="row" style="margin-top:10px">
      <button id="rerun">Re-run Analysis</button>
      <span class="note">Open your browser console to see the printed frequency count as well.</span>
    </div>
  </section>

  <section class="card">
    <h2>R&amp;D Frequency</h2>
    <div id="freq">Loading…</div>
    <h2 style="margin-top:16px">About</h2>
    <div class="sub">
      • Uses any dataset present in this HTML (synthetic 100-row employee sample).<br/>
      • Prints “R&amp;D” frequency to the console and shows it here.<br/>
      • Exports Matplotlib figure to PNG and embeds it below.<br/>
      • Email (for verification): <strong>24f3004403@ds.study.iitm.ac.in</strong>
    </div>
  </section>
</main>

<footer>
  Save this file and publish to GitHub Pages or serve as a static HTML. No external servers required.
</footer>
</div> <!-- Pyodide: run Python in-browser --> <script src="https://cdn.jsdelivr.net/pyodide/v0.24.1/full/pyodide.js"></script> <script> const PLOT_EL = document.getElementById("plot"); const FREQ_EL = document.getElementById("freq"); const BTN = document.getElementById("rerun"); const EMP_CSV = `employee_id,department,region,performance_score,years_experience,satisfaction_rating EMP001,Operations,Africa,74.88,5,4.8 EMP002,Operations,Europe,79.61,3,3.3 EMP003,Finance,North America,94.57,9,3.2 EMP004,Marketing,Middle East,70.14,2,4.1 EMP005,IT,Africa,69.75,3,5 EMP006,Sales,Europe,77.21,4,4.4 EMP007,R&D,North America,88.42,7,4.9 EMP008,HR,Africa,66.02,2,3.8 EMP009,Operations,Asia,73.91,6,4.2 EMP010,R&D,Europe,91.55,8,4.7 EMP011,IT,North America,82.18,6,4.1 EMP012,Finance,Asia,75.33,3,3.9 EMP013,Marketing,Europe,69.40,2,4.0 EMP014,Sales,North America,84.60,5,4.5 EMP015,R&D,Asia,92.71,9,4.8 EMP016,HR,Europe,71.28,4,3.7 EMP017,Operations,North America,76.89,5,4.3 EMP018,Finance,Middle East,80.14,4,3.6 EMP019,IT,Europe,78.65,3,4.2 EMP020,Sales,Africa,72.44,2,3.9 EMP021,R&D,North America,90.23,7,4.6 EMP022,Marketing,Asia,68.77,2,3.8 EMP023,HR,North America,74.10,5,4.1 EMP024,Operations,Middle East,79.05,6,4.2 EMP025,Finance,Africa,83.90,7,3.7 EMP026,IT,Asia,77.51,4,4.0 EMP027,Sales,Europe,81.66,5,4.3 EMP028,R&D,Middle East,89.90,6,4.5 EMP029,HR,Africa,70.22,3,3.6 EMP030,Operations,Europe,75.48,5,4.0 EMP031,Finance,North America,88.01,8,3.9 EMP032,IT,Middle East,73.77,3,4.1 EMP033,Sales,Asia,80.35,4,4.2 EMP034,R&D,Europe,93.14,9,4.9 EMP035,Marketing,North America,71.60,3,3.9 EMP036,HR,Asia,69.95,2,3.7 EMP037,Operations,Africa,76.44,5,4.2 EMP038,Finance,Europe,82.77,6,3.8 EMP039,IT,North America,79.66,5,4.1 EMP040,Sales,Middle East,78.24,4,4.0 EMP041,R&D,Africa,87.45,6,4.6 EMP042,Marketing,Europe,70.88,3,3.8 EMP043,HR,North America,73.95,4,4.0 EMP044,Operations,Asia,77.30,5,4.1 EMP045,Finance,Middle East,81.12,6,3.7 EMP046,IT,Africa,74.84,3,4.0 EMP047,Sales,Europe,83.42,5,4.4 EMP048,R&D,North America,92.02,8,4.7 EMP049,Marketing,Asia,69.22,2,3.7 EMP050,HR,Europe,72.10,3,3.8 EMP051,Operations,North America,78.55,6,4.3 EMP052,Finance,Africa,84.31,7,3.9 EMP053,IT,Europe,80.47,4,4.2 EMP054,Sales,North America,82.66,5,4.3 EMP055,R&D,Asia,91.88,8,4.8 EMP056,Marketing,Middle East,71.34,3,3.8 EMP057,HR,Africa,70.44,2,3.6 EMP058,Operations,Europe,76.92,5,4.1 EMP059,Finance,North America,87.77,8,3.9 EMP060,IT,Middle East,75.18,3,4.1 EMP061,Sales,Asia,79.85,4,4.2 EMP062,R&D,Europe,94.02,9,4.9 EMP063,Marketing,North America,72.04,3,3.9 EMP064,HR,Asia,69.75,2,3.7 EMP065,Operations,Africa,77.11,5,4.2 EMP066,Finance,Europe,83.22,6,3.8 EMP067,IT,North America,80.05,5,4.1 EMP068,Sales,Middle East,79.04,4,4.0 EMP069,R&D,Africa,88.71,6,4.6 EMP070,Marketing,Europe,71.02,3,3.8 EMP071,HR,North America,74.22,4,4.0 EMP072,Operations,Asia,77.64,5,4.1 EMP073,Finance,Middle East,81.40,6,3.7 EMP074,IT,Africa,75.02,3,4.0 EMP075,Sales,Europe,83.88,5,4.4 EMP076,R&D,North America,92.66,8,4.7 EMP077,Marketing,Asia,69.48,2,3.7 EMP078,HR,Europe,72.28,3,3.8 EMP079,Operations,North America,78.89,6,4.3 EMP080,Finance,Africa,84.60,7,3.9 EMP081,IT,Europe,80.81,4,4.2 EMP082,Sales,North America,82.92,5,4.3 EMP083,R&D,Asia,92.10,8,4.8 EMP084,Marketing,Middle East,71.66,3,3.8 EMP085,HR,Africa,70.66,2,3.6 EMP086,Operations,Europe,77.18,5,4.1 EMP087,Finance,North America,88.10,8,3.9 EMP088,IT,Middle East,75.36,3,4.1 EMP089,Sales,Asia,80.10,4,4.2 EMP090,R&D,Europe,94.30,9,4.9 EMP091,Marketing,North America,72.18,3,3.9 EMP092,HR,Asia,69.88,2,3.7 EMP093,Operations,Africa,77.30,5,4.2 EMP094,Finance,Europe,83.40,6,3.8 EMP095,IT,North America,80.20,5,4.1 EMP096,Sales,Middle East,79.22,4,4.0 EMP097,R&D,Africa,88.92,6,4.6 EMP098,Marketing,Europe,71.18,3,3.8 EMP099,HR,North America,74.40,4,4.0 EMP100,Operations,Asia,77.82,5,4.1`; let pyodideReadyPromise = null; async function initPyodideAndRun() { PLOT_EL.textContent = "Setting up Pyodide & loading packages…"; if (!pyodideReadyPromise) { pyodideReadyPromise = loadPyodide({ stdout: (t)=>console.log(t), stderr: (t)=>console.error(t) }); } const pyodide = await pyodideReadyPromise; // Load core packages. pandas & matplotlib are heavy; this may take a moment locally. await pyodide.loadPackage(["micropip", "pandas", "matplotlib"]); const code = ` import io, base64, sys import pandas as pd import matplotlib matplotlib.use("AGG") import matplotlib.pyplot as plt # ---- Load data from the injected CSV string ---- from js import EMP_CSV from io import StringIO df = pd.read_csv(StringIO(EMP_CSV)) # ---- Calculate frequency count for "R&D" department ---- rd_freq = (df["department"] == "R&D").sum() # Print to browser console (via stdout) and also return for display print(f'Frequency count for "R&D" department:', rd_freq) # ---- Build "histogram-style" distribution (bar plot of category counts) ---- counts = df["department"].value_counts().sort_index() fig = plt.figure(figsize=(8, 5), dpi=160) ax = fig.gca() counts.plot(kind="bar", ax=ax) ax.set_title("Department Distribution (Count of Employees)") ax.set_xlabel("Department") ax.set_ylabel("Count") ax.grid(axis="y", linestyle="--", alpha=0.35) # Tight layout & export to PNG buffer fig.tight_layout() buf = io.BytesIO() plt.savefig(buf, format="png", bbox_inches="tight") plt.close(fig) buf.seek(0) img_b64 = base64.b64encode(buf.read()).decode("ascii") # Return values for JS to display img_b64, int(rd_freq) `; try { const [img64, freq] = await pyodide.runPythonAsync(code); // Update frequency panel FREQ_EL.textContent = `R&D frequency: ${freq}`; // Update image const img = new Image(); img.alt = "Department Distribution (Matplotlib)"; img.style.maxWidth = "100%"; img.style.borderRadius = "10px"; img.src = "data:image/png;base64," + img64; PLOT_EL.innerHTML = ""; PLOT_EL.appendChild(img); } catch (err) { console.error(err); PLOT_EL.textContent = "An error occurred while running Python. See console for details."; FREQ_EL.textContent = "—"; } } BTN.addEventListener("click", initPyodideAndRun); // Auto-run once on load initPyodideAndRun(); </script> </body> </html>
